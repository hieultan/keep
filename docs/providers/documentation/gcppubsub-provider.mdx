---
title: "GCP Pub/Sub"
sidebarTitle: "GCP Pub/Sub Provider"
description: "Consume Pub/Sub messages in Keep using Workload Identity or a service account."
---
import AutoGeneratedSnippet from '/snippets/providers/gcppubsub-snippet-autogenerated.mdx';

<AutoGeneratedSnippet />

## Overview

The **GCP Pub/Sub Provider** pulls messages from a Google Pub/Sub subscription and pushes them to Keep. When running on Google Cloud, the provider uses [Workload Identity](https://cloud.google.com/kubernetes-engine/docs/concepts/workload-identity) by default, but you can also provide a service account JSON when running elsewhere. Only the subscription path is required when using Workload Identity. Incoming messages are automatically mapped into Keep's `AlertDto` format, using the GCP Monitoring mapper when the payload contains an `incident` object.

## Example Payload

A typical Pub/Sub message delivered from Google Cloud Monitoring looks like:
```json
{
  "incident": {
    "condition_name": "user-preference",
    "policy_name": "user-preference log rate threshold exceeded",
    "summary": "logging/user/cake-app-log-metrics for bef-cake-prod Kubernetes Container labels {project_id=bef-cake-prod, container_name=user-preference} is above the threshold of 20.000 with a value of 70.000."
  },
  "version": "1.2"
}
```
